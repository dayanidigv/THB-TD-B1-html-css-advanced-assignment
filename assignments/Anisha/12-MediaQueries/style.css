/* Base styles - Mobile First */
.container {
    width: 100%;
    padding: 0 16px;
    margin: 0 auto;
}
.grid {
    display: block;
}
.grid-item {
    width: 100%;
    margin-bottom: 20px;
}
h1 { font-size: 24px; line-height: 1.2; }
h2 { font-size: 20px; }
p { font-size: 16px; line-height: 1.5; }
.nav { display: flex; flex-direction: column; }
.nav-item { width: 100%; text-align: center; padding: 12px; }

/* Small devices >=576px */
@media (min-width: 576px) {
    .container { max-width: 540px; }
    h1 { font-size: 28px; }
    .grid { display: flex; flex-wrap: wrap; gap: 20px; }
    .grid-item { width: calc(50% - 10px); margin-bottom: 0; }
}

/* Medium devices >=768px */
@media (min-width: 768px) {
    .container { max-width: 720px; padding: 0 24px; }
    h1 { font-size: 36px; }
    h2 { font-size: 28px; }
    p { font-size: 18px; line-height: 1.6; }
    .nav { flex-direction: row; justify-content: space-between; }
    .nav-item { width: auto; padding: 8px 16px; }
    .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 30px; }
}

/* Large devices >=992px */
@media (min-width: 992px) {
    .container { max-width: 960px; padding: 0 32px; }
    h1 { font-size: 48px; }
    .grid { grid-template-columns: repeat(3, 1fr); gap: 40px; }
    .content-layout { display: grid; grid-template-columns: 1fr 300px; gap: 40px; }
    .sidebar { position: sticky; top: 20px; height: fit-content; }
}

/* Extra large devices >=1200px */
@media (min-width: 1200px) {
    .container { max-width: 1140px; }
    .grid { grid-template-columns: repeat(4, 1fr); gap: 50px; }
    .content-layout { grid-template-columns: 1fr 350px; }
}

/* XXL devices >=1400px */
@media (min-width: 1400px) { .container { max-width: 1320px; } }

/* Orientation queries */
@media (orientation: portrait) {
    .hero { height: 100vh; flex-direction: column; }
    .image-gallery { grid-template-columns: repeat(2, 1fr); }
}
@media (orientation: landscape) {
    .hero { height: 50vh; flex-direction: row; }
    .image-gallery { grid-template-columns: repeat(4, 1fr); }
}
@media (orientation: landscape) and (max-height: 500px) {
    .hero { height: 100vh; padding: 20px 0; }
    .nav { height: 50px; }
}

/* Aspect ratio queries */
@media (min-aspect-ratio: 16/9) {
    .widescreen-content { display: flex; justify-content: space-between; }
}

/* Resolution / pixel density */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .high-res-image { background-image: url('image@2x.png'); background-size: 200px 100px; }
}

/* Pointer capability */
@media (pointer: coarse) { 
    .button { min-height: 44px; min-width: 44px; padding: 12px 20px; }
    .nav-item { padding: 16px; }
}
@media (pointer: fine) {
    .button { padding: 8px 16px; }
    .tooltip:hover::after { opacity: 1; }
}

/* Hover capability */
@media (hover: hover) {
    .card:hover { transform: translateY(-4px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
    .button:hover { background-color: var(--button-hover-bg); }
}
@media (hover: none) { .card:active { transform: scale(0.98); } }

/* User preferences */
@media (prefers-color-scheme: dark) {
    body { background-color: #1a1a1a; color: #fff; }
    .card { background: #2d2d2d; border-color: #333; }
}
@media (prefers-reduced-motion: reduce) {
    * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; }
}
@media (prefers-contrast: high) {
    .button { border: 2px solid currentColor; }
    .card { border: 2px solid; }
}

/* Print */
@media print {
    .nav, .sidebar, .button, .form, .no-print { display: none !important; }
    body { font-size: 12pt; line-height: 1.4; color: black !important; background: white !important; }
    .container { max-width: none !important; margin: 0 !important; padding: 0 !important; }
    .page-break { page-break-before: always; }
    .avoid-break { page-break-inside: avoid; }
    a[href]:after { content: " (" attr(href) ")"; font-size: 10pt; color: #666; }
    abbr[title]:after { content: " (" attr(title) ")"; }
}

/* Container queries */
.card-container { container-type: inline-size; container-name: card; }
@container card (min-width: 300px) {
    .card { display: flex; align-items: center; gap: 20px; }
    .card-image { width: 100px; height: 100px; flex-shrink: 0; }
}
@container card (min-width: 500px) {
    .card { flex-direction: column; text-align: center; }
    .card-image { width: 150px; height: 150px; }
}
.sidebar-container { container-type: inline-size; container-name: sidebar; }
@container sidebar (max-width: 250px) {
    .sidebar-nav { flex-direction: column; }
    .sidebar-nav a { padding: 8px; text-align: center; }
}
